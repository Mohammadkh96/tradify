This section defines plans, payments, enforcement, and admin control in a way that is scalable, auditable, and safe for a paid trading product.

1ï¸âƒ£ PLANS
ğŸ†“ FREE PLAN â€” Trader Essentials

Purpose:
Trust-building, zero-friction onboarding, real MT5 visibility.

Included Features

Live MT5 Balance, Equity, Floating P&L, Margin Level

Open Positions (live)

Journal (manual + MT5)

Trade history limited to last 30 days

Basic dashboard

Risk calculator

Knowledge base

Limited chat assistant

Restrictions

âŒ Equity curve beyond 30 days

âŒ Advanced analytics (profit factor, expectancy, drawdown)

âŒ Journal export

âŒ Advanced date filtering

âŒ Unlimited assistant usage

âŒ Priority MT5 sync

Technical Enforcement

Backend enforces date limits (NOW() - 30 days)

Pro-only API endpoints return 403 FORBIDDEN

UI shows ğŸ”’ â€œPro featureâ€ badges

âœ… Free plan defined clearly

â­ PRO PLAN â€” Trader Pro

Purpose:
Depth, analysis, efficiency â€” for serious traders.

Included Features

Unlimited MT5 trade history

Full equity curve (all-time)

Advanced analytics:

Win rate (validated)

Profit factor

Expectancy

Max drawdown

Avg win vs loss

Advanced journal filtering

Trade tagging & notes

Screenshot attachments

Export to CSV / PDF

Unlimited assistant usage

Priority MT5 sync & historical backfill

Pricing

$19 / month

$190 / year (2 months free)

âœ… Pro plan defined clearly
âœ… Feature limits enforced correctly

2ï¸âƒ£ PAYMENTS
Payment Provider

Stripe (recommended)

Stripe Checkout or Stripe Customer Portal

âœ… Payment provider integrated

Subscription Model

Recurring subscription

Monthly & yearly plans

No lock-in

Cancel anytime

Stripe Objects

Product: tradify_pro

Prices:

tradify_pro_monthly

tradify_pro_yearly

Upgrade Flow (Free â†’ Pro)

User Flow

User clicks ğŸ”’ Pro feature

Redirect to Pricing or Checkout

Stripe checkout

Payment succeeds

User redirected back to app

Pro features unlock immediately

Backend

Stripe webhook: checkout.session.completed

Update user:

plan = PRO

subscription_status = ACTIVE

âœ… Upgrade Free â†’ Pro works

Downgrade Flow (Pro â†’ Free)

User Flow

User cancels subscription

Access remains until end of billing period

After period ends â†’ downgraded to Free

Backend

Stripe webhook: customer.subscription.deleted

Update user:

plan = FREE

subscription_status = CANCELED

âœ… Downgrade works

Cancellation

Rules

User can cancel anytime

No immediate data loss

No forced retention tricks

UI

â€œManage Subscriptionâ€ â†’ Stripe Portal

Backend

Listen to Stripe subscription updates

Reflect status accurately

âœ… Cancellation works

Payment Failure Handling (CRITICAL)

Scenarios

Card declined

Expired card

Insufficient funds

Handling

Stripe webhook: invoice.payment_failed

Mark user:

subscription_status = PAST_DUE

Show banner in app:

â€œPayment issue â€” please update your billing detailsâ€

Grace Period

3â€“7 days (configurable)

After grace period:

Pro features locked

User downgraded to Free

âœ… Payment failure handling implemented

3ï¸âƒ£ BILLING ADMIN
User Subscription Sync

Each user record must store:

plan (FREE / PRO)

stripe_customer_id

stripe_subscription_id

subscription_status

ACTIVE

PAST_DUE

CANCELED

current_period_end

Backend uses this as single source of truth.

âœ… Subscription status synced to user

Admin Billing Dashboard

Admin Capabilities

View user list

See:

Email

Plan

Subscription status

Billing cycle

Last payment date

Link to Stripe Customer page

Admin Permissions

Read-only (no manual edits)

Stripe remains source of billing truth

âœ… Admin can view billing status

4ï¸âƒ£ SECURITY & COMPLIANCE (IMPORTANT)

âŒ No card data stored in TRADIFY

âŒ No payment logic in frontend

âœ… All billing via Stripe

âœ… Webhooks verified with Stripe signature

âœ… Billing actions logged

5ï¸âƒ£ ACCEPTANCE CHECKLIST (FINAL)
Plans

âœ… Free plan defined clearly

âœ… Pro plan defined clearly

âœ… Feature limits enforced correctly

Payments

âœ… Stripe integrated

âœ… Monthly subscription works

âœ… Upgrade Free â†’ Pro works

âœ… Downgrade works

âœ… Cancellation works

âœ… Payment failure handling implemented

Billing Admin

âœ… Subscription status synced to user

âœ… Admin can view billing status